{"summary": {"file_name": "flights-3m.csv"}, "goals": [{"index": 0, "question": "What is the distribution of flight delays?", "visualization": "Histogram of departure delay", "rationale": "This tells us how many flights are delayed and by how much time. It can help us identify patterns and trends in flight delays."}, {"index": 1, "question": "What is the average flight time for different airlines?", "visualization": "Bar chart of airline vs. average flight time", "rationale": "This can help us compare the performance of different airlines in terms of flight time and identify which airlines are more efficient."}, {"index": 2, "question": "What is the relationship between flight distance and airfare?", "visualization": "Scatter plot of distance vs. airfare", "rationale": "This can help us identify if there is a correlation between flight distance and airfare. It can also help us identify any outliers or anomalies in the data."}, {"index": 3, "question": "What is the busiest airport in terms of number of flights?", "visualization": "Bar chart of airport vs. number of flights", "rationale": "This can help us identify which airport has the highest traffic and which airports are less busy. It can also help us identify any seasonal or regional patterns in flight traffic."}, {"index": 4, "question": "What is the distribution of flight cancellations?", "visualization": "Pie chart of cancelled vs. not cancelled flights", "rationale": "This can help us identify how many flights are cancelled and what percentage of total flights are cancelled. It can also help us identify any patterns or reasons for flight cancellations."}], "code": [["import matplotlib.pyplot as plt\nimport pandas as pd\ndef plot(data: pd.DataFrame):\n    data['DepDelay'] = pd.to_numeric(data['DepDelay'], errors='coerce')\n    data = data.dropna(subset=['DepDelay'])\n    fig, ax = plt.subplots(figsize=(10, 6))\n    ax.hist(data['DepDelay'], bins=100, color='blue', alpha=0.5)\n    ax.axvline(data['DepDelay'].median(), color='red', linestyle='dashed', linewidth=2, label='Median Delay: {:.2f}'.format(data['DepDelay'].median()))\n    ax.set_xlabel('Departure Delay (minutes)')\n    ax.set_ylabel('Number of Flights')\n    ax.legend()\n    return plt;\n\nchart = plot(data)"], ["import matplotlib.pyplot as plt\nimport pandas as pd\ndef plot(data: pd.DataFrame):\n    data['flight_time'] = pd.to_datetime(data['flight_time'], format='%H:%M:%S', errors='coerce')\n    data['flight_time'] = data['flight_time'].dt.hour + data['flight_time'].dt.minute/60\n    avg_flight_time = data.groupby('airline')['flight_time'].mean().reset_index()\n    fig, ax = plt.subplots(figsize=(10, 6))\n    ax.bar(avg_flight_time['airline'], avg_flight_time['flight_time'], color='blue')\n    ax.set_xlabel('Airline')\n    ax.set_ylabel('Average Flight Time (hours)')\n    ax.axhline(avg_flight_time['flight_time'].mean(), color='red', linestyle='--', label=f\"Overall Average: {avg_flight_time['flight_time'].mean():.2f}\")\n    ax.legend()\n    plt.title('What is the average flight time for different airlines?', wrap=True)\n    return plt;\n\nchart = plot(data)"], ["import matplotlib.pyplot as plt\nimport pandas as pd\ndef plot(data: pd.DataFrame):\n    data['airfare'] = pd.to_numeric(data['airfare'], errors='coerce')\n    data['distance'] = pd.to_numeric(data['distance'], errors='coerce')\n    data = data.dropna(subset=['airfare', 'distance'])\n    fig, ax = plt.subplots()\n    ax.scatter(data['distance'], data['airfare'], alpha=0.5)\n    ax.set_xlabel('Distance')\n    ax.set_ylabel('Airfare')\n    plt.title('What is the relationship between flight distance and airfare?', wrap=True)\n    return plt;\n\nchart = plot(data)"], ["import matplotlib.pyplot as plt\nimport pandas as pd\ndef plot(data: pd.DataFrame):\n    data['origin_airport'].value_counts().plot(kind='bar')\n    plt.title('What is the busiest airport in terms of number of flights?', wrap=True)\n    plt.xlabel('Airport')\n    plt.ylabel('Number of Flights')\n    return plt;\n\nchart = plot(data)"], ["import matplotlib.pyplot as plt\nimport pandas as pd\ndef plot(data: pd.DataFrame):\n    cancelled = data['CANCELLED'].value_counts()\n    labels = ['Not Cancelled', 'Cancelled']\n    colors = ['lightblue', 'red']\n    plt.pie(cancelled, labels=labels, colors=colors, autopct='%1.1f%%', startangle=90)\n    plt.title('What is the distribution of flight cancellations?', wrap=True)\n    return plt;\n\nchart = plot(data)"]], "filename": "flights-3m.csv", "chart": [[{"spec": null, "status": false, "raster": null, "code": "import matplotlib.pyplot as plt\nimport pandas as pd\ndef plot(data: pd.DataFrame):\n    data['DepDelay'] = pd.to_numeric(data['DepDelay'], errors='coerce')\n    data = data.dropna(subset=['DepDelay'])\n    fig, ax = plt.subplots(figsize=(10, 6))\n    ax.hist(data['DepDelay'], bins=100, color='blue', alpha=0.5)\n    ax.axvline(data['DepDelay'].median(), color='red', linestyle='dashed', linewidth=2, label='Median Delay: {:.2f}'.format(data['DepDelay'].median()))\n    ax.set_xlabel('Departure Delay (minutes)')\n    ax.set_ylabel('Number of Flights')\n    ax.legend()\n    return plt;\n\nchart = plot(data)", "library": "matplotlib", "error": {"message": "'DepDelay'", "traceback": "Traceback (most recent call last):\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/indexes/base.py\", line 3621, in get_loc\n    return self._engine.get_loc(casted_key)\n  File \"pandas/_libs/index.pyx\", line 136, in pandas._libs.index.IndexEngine.get_loc\n  File \"pandas/_libs/index.pyx\", line 163, in pandas._libs.index.IndexEngine.get_loc\n  File \"pandas/_libs/hashtable_class_helper.pxi\", line 5198, in pandas._libs.hashtable.PyObjectHashTable.get_item\n  File \"pandas/_libs/hashtable_class_helper.pxi\", line 5206, in pandas._libs.hashtable.PyObjectHashTable.get_item\nKeyError: 'DepDelay'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/victordibia/projects/projectlida/lida/lib/lida/modules/executor.py\", line 133, in execute\n    exec(code, ex_locals)\n  File \"<string>\", line 14, in <module>\n  File \"<string>\", line 4, in plot\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/frame.py\", line 3505, in __getitem__\n    indexer = self.columns.get_loc(key)\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/indexes/base.py\", line 3623, in get_loc\n    raise KeyError(key) from err\nKeyError: 'DepDelay'\n"}}], [{"spec": null, "status": false, "raster": null, "code": "import matplotlib.pyplot as plt\nimport pandas as pd\ndef plot(data: pd.DataFrame):\n    data['flight_time'] = pd.to_datetime(data['flight_time'], format='%H:%M:%S', errors='coerce')\n    data['flight_time'] = data['flight_time'].dt.hour + data['flight_time'].dt.minute/60\n    avg_flight_time = data.groupby('airline')['flight_time'].mean().reset_index()\n    fig, ax = plt.subplots(figsize=(10, 6))\n    ax.bar(avg_flight_time['airline'], avg_flight_time['flight_time'], color='blue')\n    ax.set_xlabel('Airline')\n    ax.set_ylabel('Average Flight Time (hours)')\n    ax.axhline(avg_flight_time['flight_time'].mean(), color='red', linestyle='--', label=f\"Overall Average: {avg_flight_time['flight_time'].mean():.2f}\")\n    ax.legend()\n    plt.title('What is the average flight time for different airlines?', wrap=True)\n    return plt;\n\nchart = plot(data)", "library": "matplotlib", "error": {"message": "'flight_time'", "traceback": "Traceback (most recent call last):\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/indexes/base.py\", line 3621, in get_loc\n    return self._engine.get_loc(casted_key)\n  File \"pandas/_libs/index.pyx\", line 136, in pandas._libs.index.IndexEngine.get_loc\n  File \"pandas/_libs/index.pyx\", line 163, in pandas._libs.index.IndexEngine.get_loc\n  File \"pandas/_libs/hashtable_class_helper.pxi\", line 5198, in pandas._libs.hashtable.PyObjectHashTable.get_item\n  File \"pandas/_libs/hashtable_class_helper.pxi\", line 5206, in pandas._libs.hashtable.PyObjectHashTable.get_item\nKeyError: 'flight_time'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/victordibia/projects/projectlida/lida/lib/lida/modules/executor.py\", line 133, in execute\n    exec(code, ex_locals)\n  File \"<string>\", line 16, in <module>\n  File \"<string>\", line 4, in plot\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/frame.py\", line 3505, in __getitem__\n    indexer = self.columns.get_loc(key)\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/indexes/base.py\", line 3623, in get_loc\n    raise KeyError(key) from err\nKeyError: 'flight_time'\n"}}], [{"spec": null, "status": false, "raster": null, "code": "import matplotlib.pyplot as plt\nimport pandas as pd\ndef plot(data: pd.DataFrame):\n    data['airfare'] = pd.to_numeric(data['airfare'], errors='coerce')\n    data['distance'] = pd.to_numeric(data['distance'], errors='coerce')\n    data = data.dropna(subset=['airfare', 'distance'])\n    fig, ax = plt.subplots()\n    ax.scatter(data['distance'], data['airfare'], alpha=0.5)\n    ax.set_xlabel('Distance')\n    ax.set_ylabel('Airfare')\n    plt.title('What is the relationship between flight distance and airfare?', wrap=True)\n    return plt;\n\nchart = plot(data)", "library": "matplotlib", "error": {"message": "'airfare'", "traceback": "Traceback (most recent call last):\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/indexes/base.py\", line 3621, in get_loc\n    return self._engine.get_loc(casted_key)\n  File \"pandas/_libs/index.pyx\", line 136, in pandas._libs.index.IndexEngine.get_loc\n  File \"pandas/_libs/index.pyx\", line 163, in pandas._libs.index.IndexEngine.get_loc\n  File \"pandas/_libs/hashtable_class_helper.pxi\", line 5198, in pandas._libs.hashtable.PyObjectHashTable.get_item\n  File \"pandas/_libs/hashtable_class_helper.pxi\", line 5206, in pandas._libs.hashtable.PyObjectHashTable.get_item\nKeyError: 'airfare'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/victordibia/projects/projectlida/lida/lib/lida/modules/executor.py\", line 133, in execute\n    exec(code, ex_locals)\n  File \"<string>\", line 14, in <module>\n  File \"<string>\", line 4, in plot\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/frame.py\", line 3505, in __getitem__\n    indexer = self.columns.get_loc(key)\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/indexes/base.py\", line 3623, in get_loc\n    raise KeyError(key) from err\nKeyError: 'airfare'\n"}}], [{"spec": null, "status": false, "raster": null, "code": "import matplotlib.pyplot as plt\nimport pandas as pd\ndef plot(data: pd.DataFrame):\n    data['origin_airport'].value_counts().plot(kind='bar')\n    plt.title('What is the busiest airport in terms of number of flights?', wrap=True)\n    plt.xlabel('Airport')\n    plt.ylabel('Number of Flights')\n    return plt;\n\nchart = plot(data)", "library": "matplotlib", "error": {"message": "'origin_airport'", "traceback": "Traceback (most recent call last):\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/indexes/base.py\", line 3621, in get_loc\n    return self._engine.get_loc(casted_key)\n  File \"pandas/_libs/index.pyx\", line 136, in pandas._libs.index.IndexEngine.get_loc\n  File \"pandas/_libs/index.pyx\", line 163, in pandas._libs.index.IndexEngine.get_loc\n  File \"pandas/_libs/hashtable_class_helper.pxi\", line 5198, in pandas._libs.hashtable.PyObjectHashTable.get_item\n  File \"pandas/_libs/hashtable_class_helper.pxi\", line 5206, in pandas._libs.hashtable.PyObjectHashTable.get_item\nKeyError: 'origin_airport'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/victordibia/projects/projectlida/lida/lib/lida/modules/executor.py\", line 133, in execute\n    exec(code, ex_locals)\n  File \"<string>\", line 10, in <module>\n  File \"<string>\", line 4, in plot\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/frame.py\", line 3505, in __getitem__\n    indexer = self.columns.get_loc(key)\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/indexes/base.py\", line 3623, in get_loc\n    raise KeyError(key) from err\nKeyError: 'origin_airport'\n"}}], [{"spec": null, "status": false, "raster": null, "code": "import matplotlib.pyplot as plt\nimport pandas as pd\ndef plot(data: pd.DataFrame):\n    cancelled = data['CANCELLED'].value_counts()\n    labels = ['Not Cancelled', 'Cancelled']\n    colors = ['lightblue', 'red']\n    plt.pie(cancelled, labels=labels, colors=colors, autopct='%1.1f%%', startangle=90)\n    plt.title('What is the distribution of flight cancellations?', wrap=True)\n    return plt;\n\nchart = plot(data)", "library": "matplotlib", "error": {"message": "'CANCELLED'", "traceback": "Traceback (most recent call last):\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/indexes/base.py\", line 3621, in get_loc\n    return self._engine.get_loc(casted_key)\n  File \"pandas/_libs/index.pyx\", line 136, in pandas._libs.index.IndexEngine.get_loc\n  File \"pandas/_libs/index.pyx\", line 163, in pandas._libs.index.IndexEngine.get_loc\n  File \"pandas/_libs/hashtable_class_helper.pxi\", line 5198, in pandas._libs.hashtable.PyObjectHashTable.get_item\n  File \"pandas/_libs/hashtable_class_helper.pxi\", line 5206, in pandas._libs.hashtable.PyObjectHashTable.get_item\nKeyError: 'CANCELLED'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/victordibia/projects/projectlida/lida/lib/lida/modules/executor.py\", line 133, in execute\n    exec(code, ex_locals)\n  File \"<string>\", line 11, in <module>\n  File \"<string>\", line 4, in plot\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/frame.py\", line 3505, in __getitem__\n    indexer = self.columns.get_loc(key)\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/indexes/base.py\", line 3623, in get_loc\n    raise KeyError(key) from err\nKeyError: 'CANCELLED'\n"}}]]}