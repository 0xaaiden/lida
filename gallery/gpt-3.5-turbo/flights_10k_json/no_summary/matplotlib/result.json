{"summary": {"file_name": "flights-10k.json"}, "goals": [{"index": 0, "question": "What is the distribution of flight delays?", "visualization": "Histogram of departure_delay", "rationale": "This tells us how many flights are delayed and by how much time. It can help us identify patterns and trends in flight delays."}, {"index": 1, "question": "What is the average flight time for different airlines?", "visualization": "Bar chart of airline vs. average flight time", "rationale": "This can help us compare the performance of different airlines in terms of flight time and identify which airlines are faster or slower."}, {"index": 2, "question": "What is the relationship between flight distance and arrival delay?", "visualization": "Scatter plot of distance vs. arrival_delay", "rationale": "This can help us identify if there is a correlation between flight distance and arrival delay. It can also help us identify outliers and patterns in the data."}, {"index": 3, "question": "What is the distribution of flight cancellations by reason?", "visualization": "Pie chart of cancellation_reason", "rationale": "This can help us identify the most common reasons for flight cancellations and their relative frequencies."}, {"index": 4, "question": "What is the distribution of flight delays by airport?", "visualization": "Box plot of airport vs. departure_delay", "rationale": "This can help us identify which airports have the highest and lowest delays and compare their performance. It can also help us identify outliers and patterns in the data."}], "code": [["import matplotlib.pyplot as plt\nimport pandas as pd\ndef plot(data: pd.DataFrame):\n    data['departure_delay'].plot(kind='hist', bins=50, color='blue', edgecolor='black', alpha=0.7)\n    plt.axvline(x=data['departure_delay'].median(), color='red', label='Median delay: {:.2f}'.format(data['departure_delay'].median()))\n    plt.legend(loc='upper right')\n    plt.title('What is the distribution of flight delays?', wrap=True)\n    return plt;\n\nchart = plot(data)"], ["import matplotlib.pyplot as plt\nimport pandas as pd\ndef plot(data: pd.DataFrame):\n    data['flight_time'] = pd.to_datetime(data['flight_time'], format='%H:%M:%S', errors='coerce')\n    data['flight_time'] = data['flight_time'].dt.hour + data['flight_time'].dt.minute/60\n    avg_flight_time = data.groupby('airline')['flight_time'].mean().reset_index()\n    fig, ax = plt.subplots(figsize=(10, 6))\n    ax.bar(avg_flight_time['airline'], avg_flight_time['flight_time'], color='blue')\n    ax.set_xlabel('Airline')\n    ax.set_ylabel('Average Flight Time (hours)')\n    ax.axhline(avg_flight_time['flight_time'].mean(), color='red', linestyle='--', label=f\"Overall Average: {avg_flight_time['flight_time'].mean():.2f}\")\n    ax.legend()\n    plt.title('What is the average flight time for different airlines?', wrap=True)\n    return plt;\n\nchart = plot(data)"], ["import matplotlib.pyplot as plt\nimport pandas as pd\ndef plot(data: pd.DataFrame):\n    data['date'] = pd.to_datetime(data['date'], format='%Y-%m-%d', errors='coerce')\n    fig, ax = plt.subplots(figsize=(10, 6))\n    ax.scatter(data['distance'], data['arrival_delay'], alpha=0.5)\n    ax.set_xlabel('Distance')\n    ax.set_ylabel('Arrival Delay')\n    ax.axhline(y=data['arrival_delay'].median(), color='r', linestyle='--', label='Median Arrival Delay: {:.2f}'.format(data['arrival_delay'].median()))\n    ax.legend()\n    plt.title('What is the relationship between flight distance and arrival delay?', wrap=True)\n    return plt;\n\nchart = plot(data)"], ["import matplotlib.pyplot as plt\nimport pandas as pd\ndef plot(data: pd.DataFrame):\n    data['cancellation_reason'].value_counts().plot(kind='pie', autopct='%1.1f%%', startangle=90, shadow=False, legend=True, fontsize=14)\n    plt.title('What is the distribution of flight cancellations by reason?', wrap=True)\n    return plt;\n\nchart = plot(data)"], ["import matplotlib.pyplot as plt\nimport pandas as pd\ndef plot(data: pd.DataFrame):\n    data['airport'] = data['origin']\n    fig, ax = plt.subplots(figsize=(10, 6))\n    ax.boxplot(data.groupby('airport')['departure_delay'].apply(list), labels=data['airport'].unique())\n    ax.set_xlabel('Airport')\n    ax.set_ylabel('Departure Delay (minutes)')\n    plt.title('What is the distribution of flight delays by airport?', wrap=True)\n    return plt;\n\nchart = plot(data)"]], "filename": "flights-10k.json", "chart": [[{"spec": null, "status": false, "raster": null, "code": "import matplotlib.pyplot as plt\nimport pandas as pd\ndef plot(data: pd.DataFrame):\n    data['departure_delay'].plot(kind='hist', bins=50, color='blue', edgecolor='black', alpha=0.7)\n    plt.axvline(x=data['departure_delay'].median(), color='red', label='Median delay: {:.2f}'.format(data['departure_delay'].median()))\n    plt.legend(loc='upper right')\n    plt.title('What is the distribution of flight delays?', wrap=True)\n    return plt;\n\nchart = plot(data)", "library": "matplotlib", "error": {"message": "'departure_delay'", "traceback": "Traceback (most recent call last):\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/indexes/base.py\", line 3621, in get_loc\n    return self._engine.get_loc(casted_key)\n  File \"pandas/_libs/index.pyx\", line 136, in pandas._libs.index.IndexEngine.get_loc\n  File \"pandas/_libs/index.pyx\", line 163, in pandas._libs.index.IndexEngine.get_loc\n  File \"pandas/_libs/hashtable_class_helper.pxi\", line 5198, in pandas._libs.hashtable.PyObjectHashTable.get_item\n  File \"pandas/_libs/hashtable_class_helper.pxi\", line 5206, in pandas._libs.hashtable.PyObjectHashTable.get_item\nKeyError: 'departure_delay'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/victordibia/projects/projectlida/lida/lib/lida/modules/executor.py\", line 139, in execute\n    exec(code, ex_locals)\n  File \"<string>\", line 10, in <module>\n  File \"<string>\", line 4, in plot\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/frame.py\", line 3505, in __getitem__\n    indexer = self.columns.get_loc(key)\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/indexes/base.py\", line 3623, in get_loc\n    raise KeyError(key) from err\nKeyError: 'departure_delay'\n"}}], [{"spec": null, "status": false, "raster": null, "code": "import matplotlib.pyplot as plt\nimport pandas as pd\ndef plot(data: pd.DataFrame):\n    data['flight_time'] = pd.to_datetime(data['flight_time'], format='%H:%M:%S', errors='coerce')\n    data['flight_time'] = data['flight_time'].dt.hour + data['flight_time'].dt.minute/60\n    avg_flight_time = data.groupby('airline')['flight_time'].mean().reset_index()\n    fig, ax = plt.subplots(figsize=(10, 6))\n    ax.bar(avg_flight_time['airline'], avg_flight_time['flight_time'], color='blue')\n    ax.set_xlabel('Airline')\n    ax.set_ylabel('Average Flight Time (hours)')\n    ax.axhline(avg_flight_time['flight_time'].mean(), color='red', linestyle='--', label=f\"Overall Average: {avg_flight_time['flight_time'].mean():.2f}\")\n    ax.legend()\n    plt.title('What is the average flight time for different airlines?', wrap=True)\n    return plt;\n\nchart = plot(data)", "library": "matplotlib", "error": {"message": "'flight_time'", "traceback": "Traceback (most recent call last):\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/indexes/base.py\", line 3621, in get_loc\n    return self._engine.get_loc(casted_key)\n  File \"pandas/_libs/index.pyx\", line 136, in pandas._libs.index.IndexEngine.get_loc\n  File \"pandas/_libs/index.pyx\", line 163, in pandas._libs.index.IndexEngine.get_loc\n  File \"pandas/_libs/hashtable_class_helper.pxi\", line 5198, in pandas._libs.hashtable.PyObjectHashTable.get_item\n  File \"pandas/_libs/hashtable_class_helper.pxi\", line 5206, in pandas._libs.hashtable.PyObjectHashTable.get_item\nKeyError: 'flight_time'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/victordibia/projects/projectlida/lida/lib/lida/modules/executor.py\", line 139, in execute\n    exec(code, ex_locals)\n  File \"<string>\", line 16, in <module>\n  File \"<string>\", line 4, in plot\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/frame.py\", line 3505, in __getitem__\n    indexer = self.columns.get_loc(key)\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/indexes/base.py\", line 3623, in get_loc\n    raise KeyError(key) from err\nKeyError: 'flight_time'\n"}}], [{"spec": null, "status": false, "raster": null, "code": "import matplotlib.pyplot as plt\nimport pandas as pd\ndef plot(data: pd.DataFrame):\n    data['date'] = pd.to_datetime(data['date'], format='%Y-%m-%d', errors='coerce')\n    fig, ax = plt.subplots(figsize=(10, 6))\n    ax.scatter(data['distance'], data['arrival_delay'], alpha=0.5)\n    ax.set_xlabel('Distance')\n    ax.set_ylabel('Arrival Delay')\n    ax.axhline(y=data['arrival_delay'].median(), color='r', linestyle='--', label='Median Arrival Delay: {:.2f}'.format(data['arrival_delay'].median()))\n    ax.legend()\n    plt.title('What is the relationship between flight distance and arrival delay?', wrap=True)\n    return plt;\n\nchart = plot(data)", "library": "matplotlib", "error": {"message": "'arrival_delay'", "traceback": "Traceback (most recent call last):\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/indexes/base.py\", line 3621, in get_loc\n    return self._engine.get_loc(casted_key)\n  File \"pandas/_libs/index.pyx\", line 136, in pandas._libs.index.IndexEngine.get_loc\n  File \"pandas/_libs/index.pyx\", line 163, in pandas._libs.index.IndexEngine.get_loc\n  File \"pandas/_libs/hashtable_class_helper.pxi\", line 5198, in pandas._libs.hashtable.PyObjectHashTable.get_item\n  File \"pandas/_libs/hashtable_class_helper.pxi\", line 5206, in pandas._libs.hashtable.PyObjectHashTable.get_item\nKeyError: 'arrival_delay'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/victordibia/projects/projectlida/lida/lib/lida/modules/executor.py\", line 139, in execute\n    exec(code, ex_locals)\n  File \"<string>\", line 14, in <module>\n  File \"<string>\", line 6, in plot\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/frame.py\", line 3505, in __getitem__\n    indexer = self.columns.get_loc(key)\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/indexes/base.py\", line 3623, in get_loc\n    raise KeyError(key) from err\nKeyError: 'arrival_delay'\n"}}], [{"spec": null, "status": false, "raster": null, "code": "import matplotlib.pyplot as plt\nimport pandas as pd\ndef plot(data: pd.DataFrame):\n    data['cancellation_reason'].value_counts().plot(kind='pie', autopct='%1.1f%%', startangle=90, shadow=False, legend=True, fontsize=14)\n    plt.title('What is the distribution of flight cancellations by reason?', wrap=True)\n    return plt;\n\nchart = plot(data)", "library": "matplotlib", "error": {"message": "'cancellation_reason'", "traceback": "Traceback (most recent call last):\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/indexes/base.py\", line 3621, in get_loc\n    return self._engine.get_loc(casted_key)\n  File \"pandas/_libs/index.pyx\", line 136, in pandas._libs.index.IndexEngine.get_loc\n  File \"pandas/_libs/index.pyx\", line 163, in pandas._libs.index.IndexEngine.get_loc\n  File \"pandas/_libs/hashtable_class_helper.pxi\", line 5198, in pandas._libs.hashtable.PyObjectHashTable.get_item\n  File \"pandas/_libs/hashtable_class_helper.pxi\", line 5206, in pandas._libs.hashtable.PyObjectHashTable.get_item\nKeyError: 'cancellation_reason'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/victordibia/projects/projectlida/lida/lib/lida/modules/executor.py\", line 139, in execute\n    exec(code, ex_locals)\n  File \"<string>\", line 8, in <module>\n  File \"<string>\", line 4, in plot\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/frame.py\", line 3505, in __getitem__\n    indexer = self.columns.get_loc(key)\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/indexes/base.py\", line 3623, in get_loc\n    raise KeyError(key) from err\nKeyError: 'cancellation_reason'\n"}}], [{"spec": null, "status": false, "raster": null, "code": "import matplotlib.pyplot as plt\nimport pandas as pd\ndef plot(data: pd.DataFrame):\n    data['airport'] = data['origin']\n    fig, ax = plt.subplots(figsize=(10, 6))\n    ax.boxplot(data.groupby('airport')['departure_delay'].apply(list), labels=data['airport'].unique())\n    ax.set_xlabel('Airport')\n    ax.set_ylabel('Departure Delay (minutes)')\n    plt.title('What is the distribution of flight delays by airport?', wrap=True)\n    return plt;\n\nchart = plot(data)", "library": "matplotlib", "error": {"message": "'Column not found: departure_delay'", "traceback": "Traceback (most recent call last):\n  File \"/home/victordibia/projects/projectlida/lida/lib/lida/modules/executor.py\", line 139, in execute\n    exec(code, ex_locals)\n  File \"<string>\", line 12, in <module>\n  File \"<string>\", line 6, in plot\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/groupby/generic.py\", line 1338, in __getitem__\n    return super().__getitem__(key)\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/base.py\", line 250, in __getitem__\n    raise KeyError(f\"Column not found: {key}\")\nKeyError: 'Column not found: departure_delay'\n"}}]]}